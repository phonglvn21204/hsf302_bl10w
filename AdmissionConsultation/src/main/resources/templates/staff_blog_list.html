<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
	<meta charset="UTF-8">
	<title>ğŸ“„ Quáº£n lÃ½ Blog</title>
	<link rel="stylesheet" th:href="@{/css/staff.css}">
</head>
<body>
<div class="staff-container">
	<!-- Sidebar -->
	<div th:replace="fragments/sidebar_staff :: staffSidebar"></div>

	<!-- Ná»™i dung chÃ­nh -->
	<div class="main-content">
		<h2>ğŸ“ Danh sÃ¡ch blog</h2>
		<!-- NÃºt táº¡o blog má»›i -->
		<a th:href="@{/staff/blogs/create}" class="btn btn-primary" style="margin-bottom: 20px;">â• Táº¡o bÃ i blog má»›i</a>
		<div class="blog-list">
			<div class="blog-item" th:each="blog : ${blogs}">
				<img th:src="@{${blog.imageUrl}}" alt="áº¢nh blog" style="width:100%; max-width:300px; height:auto;"/>
				<h3 th:text="${blog.title}"></h3>
				<p th:text="${#strings.abbreviate(blog.content, 100)}"></p>
				<p>Tráº¡ng thÃ¡i: <span th:text="${blog.status}"></span></p>

				<!-- NÃºt xÃ³a -->
				<form th:action="@{'/staff/blogs/delete/' + ${blog.id}}" method="post" style="display:inline;">
					<button type="submit" class="btn btn-danger">ğŸ—‘ï¸ XÃ³a</button>
				</form>

				<!-- Cáº­p nháº­t tráº¡ng thÃ¡i -->
				<form th:action="@{/staff/blogs/update-status}" method="post" style="display:inline;">
					<input type="hidden" name="id" th:value="${blog.id}" />
					<select name="status">
						<option value="draft" th:selected="${blog.status == 'draft'}">Draft</option>
						<option value="published" th:selected="${blog.status == 'published'}">Published</option>
						<option value="hidden" th:selected="${blog.status == 'hidden'}">Hidden</option>
					</select>
					<button type="submit">âœ… Cáº­p nháº­t</button>
				</form>

				<a th:href="@{/staff/blogs/edit/{id}(id=${blog.id})}">âœï¸ Chá»‰nh sá»­a</a>
			</div>
		</div>
	</div>
</div>
</body>
</html>
